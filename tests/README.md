# GoRay 集成测试

由于 GoRay 应用需要特殊启动方式，**无法通过go test 启动**。
因此，需要手动启动测试用例。

## 测试用例覆盖范围

本测试套件包含以下测试文件，全面覆盖了 GoRay 的各项功能：

### 1. `low_level.go` - 基础功能测试
- 基本的 RemoteCall 调用
- 多返回值处理
- 取消任务功能
- 超时处理
- 自定义类型参数传递
- ObjectRef 作为参数

### 2. `complex_types.go` - 复杂数据类型测试
- 复杂结构体处理
- 嵌套结构体
- 结构体切片处理
- Map 类型处理
- 含有 interface{} 字段的结构体

### 3. `concurrent_execution.go` - 并发执行测试
- 并发任务执行
- ObjectRef 链式调用
- 复杂的依赖关系
- Wait 函数功能测试
- 并发性能验证

### 4. `error_handling.go` - 错误处理和边界情况测试
- Panic 处理
- 除零错误
- 超时行为
- 取消已完成的任务
- 大数据处理
- 空返回值处理
- 多返回值测试
- 无效任务名称和参数

### 5. `object_store.go` - 对象存储功能测试
- ray.Put() 基础类型存储
- 复杂结构体存储
- 切片和Map存储
- 大对象存储
- Put 与 RemoteCall 混合使用
- Nil 值处理（边界测试）

### 6. `task_options.go` - 任务选项配置测试
- CPU 资源配置
- 内存资源配置
- 多选项组合
- 自定义资源配置
- 重试选项
- 调度策略
- 优先级配置
- 无效选项处理

### 7. `performance.go` - 性能和扩展性测试
- 高吞吐量任务测试
- 中等规模任务处理
- CPU 密集型计算
- 并行矩阵运算
- 内存扩展性测试
- 任务链扩展性
- 并发资源使用
- 快速连续任务启动

## 手动启动测试用例

```bash
bash ../examples/run.sh
```

## 测试框架说明

测试框架基于 Go 的 `testing` 包构建，使用自定义的 `addTestCase` 函数注册测试用例。
测试任务通过 `testTask` 结构体的方法定义，所有公共方法都会自动注册为 Ray 任务，可以通过 `ray.RemoteCall` 调用。
